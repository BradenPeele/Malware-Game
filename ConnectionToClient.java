import java.net.*;
import java.io.*;


class ConnectionToClient implements Runnable {
    
    Talker serverTalker;
    Thread serverThread;
    
 
    ConnectionToClient(Socket socket) {
        serverTalker = new Talker(socket, "Server");
        serverThread = new Thread(this);
        serverThread.start();
    }
        
    
    @Override
    public void run() {
        String message = "";
        do {
            try {
                message = serverTalker.receive();
            }
            catch(Exception e) {
            }
        }
        while(message != null && !message.equals("DONE"));
    }
}
